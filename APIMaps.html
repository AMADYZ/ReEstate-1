<!DOCTYPE html>
<html>
<head>
  <title>Zoom to Marker on Map</title>
  <style>
    #map {
      height: 500px;
      width: 95%;
      margin-left: 3%;
    }
  </style>
</head>
<body>

<h1>select your propertey location</h1>

<p>Enter a search area then put the pin on the precise location</p>
<input type="text" id="placeInput" placeholder="Enter a place" />
<button onclick="searchPlace()">Search</button>

<div id="map"></div>

<p>you can use the yellow man icon on the right to go to street view</p>

<p id="locationAddress"></p>

<script>
  var map;
  var marker;

  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      center: { lat: 0, lng: 0 },
      zoom: 2
    });

    map.addListener('click', function(event) {
      placeMarker(event.latLng);
    });
  }

  function searchPlace() {
    var place = document.getElementById('placeInput').value;
    if (!place) {
      return;
    }

    var geocoder = new google.maps.Geocoder();

    geocoder.geocode({ address: place }, function(results, status) {
      if (status === 'OK' && results.length > 0) {
        var location = results[0].geometry.location;
        placeMarker(location);
        map.setCenter(location);
        map.setZoom(15);
      }
    });
  }

  function placeMarker(location) {
    if (marker) {
      marker.setMap(null);
    }

    marker = new google.maps.Marker({
      position: location,
      map: map
    });

    getAddress(location);
  }

  function getAddress(location) {
    var geocoder = new google.maps.Geocoder();

    geocoder.geocode({ location: location }, function(results, status) {
      if (status === 'OK' && results.length > 0) {
        var address = results[0].formatted_address;
        document.getElementById('locationAddress').textContent = 'Location Address: ' + address;
      } else {
        document.getElementById('locationAddress').textContent = 'Cannot retrieve location address.';
      }
    });
  }
</script>

<!-- Add the Google Maps JavaScript API script -->
<script src="https://maps.googleapis.com/maps/api/js?key=API-KEY&callback=initMap" async defer></script>

</body>
</html>
